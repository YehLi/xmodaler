CUDNN_BENCHMARK: true
DATALOADER:
  ANNO_FOLDER: /export1/dataset/mscoco_open_source
  FEATS_FOLDER: /export1/dataset/mscoco_torch/feature/up_down_100
  MAX_FEAT_NUM: 50
  NUM_WORKERS: 0
  SEQ_PER_SAMPLE: 5
  TEST_BATCH_SIZE: 32
  TRAIN_BATCH_SIZE: 8
DATASETS:
  TEST: MSCoCoDataset
  TRAIN: MSCoCoDataset
  VAL: MSCoCoDataset
DECODE_STRATEGY:
  BEAM_SIZE: 3
  NAME: BeamSearcher
ENGINE:
  NAME: RLTrainer
INFERENCE:
  CAP_KEY: caption
  ID_KEY: image_id
  NAME: COCOEvaler
  TEST_ANNFILE: /export1/dataset/mscoco_open_source/captions_test5k.json
  VAL_ANNFILE: /export1/dataset/mscoco_open_source/captions_val5k.json
  VOCAB: /export1/dataset/mscoco_open_source/coco_vocabulary.txt
LOSSES:
  LABELSMOOTHING: 0.1
  NAMES:
  - LabelSmoothing
LR_SCHEDULER:
  GAMMA: 0.1
  NAME: StepLR
  STEP_SIZE: 3
MODEL:
  BERT:
    ATTENTION_PROBS_DROPOUT_PROB: 0.1
    FFN_DROPOUT_PROB: 0.1
    HIDDEN_ACT: gelu
    HIDDEN_DROPOUT_PROB: 0.1
    HIDDEN_SIZE: 512
    INTERMEDIATE_DROP: 0.1
    INTERMEDIATE_SIZE: 2048
    NUM_ATTENTION_HEADS: 8
    NUM_GENERATION_LAYERS: 6
    NUM_HIDDEN_LAYERS: 12
    NUM_UNDERSTANDING_LAYERS: 6
    V_NUM_HIDDEN_LAYERS: 6
    V_TARGET_SIZE: 1600
  DECODER: UpDownDecoder
  DECODER_DIM: 1000
  DEVICE: cuda
  ENCODER: UpDownEncoder
  ENCODER_DIM: 1000
  MAX_SEQ_LEN: 20
  META_ARCHITECTURE: RnnAttEncoderDecoder
  PREDICTOR: BasePredictor
  PRETRAINING:
    DO_LOWER_CASE: true
    FROM_PRETRAINED: bert-base-uncased
    MODEL_NAME: bert-base-uncased
  TOKEN_EMBED:
    ACTIVATION: relu
    DIM: 1000
    DROPOUT: 0.5
    ELU_ALPHA: 0.5
    NAME: TokenBaseEmbedding
    POSITION: none
    POSITION_MAX_LEN: 5000
    TYPE_VOCAB_SIZE: 0
    USE_NORM: false
  UPDOWN:
    ATT_EMBED_DROPOUT: 0.1
    ATT_EMBED_SIZE: 512
    DROPOUT1: 0.1
    DROPOUT2: 0.1
  VISUAL_EMBED:
    ACTIVATION: relu
    DROPOUT: 0.5
    ELU_ALPHA: 0.5
    IN_DIM: 2048
    LOCATION_SIZE: 0
    NAME: VisualBaseEmbedding
    OUT_DIM: 1000
    USE_NORM: false
  VOCAB_SIZE: 10200
  V_PREDICTOR: ''
  WEIGHTS: ''
OUTPUT_DIR: ./output
SCORER:
  CIDER_CACHED: /export1/dataset/mscoco_open_source/mscoco_train_cider.pkl
  EOS_ID: 0
  GT_PATH: /export1/dataset/mscoco_open_source/mscoco_train_gts.pkl
  NAME: BaseScorer
  TYPES:
  - Cider
  WEIGHTS:
  - 1.0
SEED: -1
SOLVER:
  AMSGRAD: false
  BASE_LR: 0.0005
  BETAS:
  - 0.9
  - 0.999
  BIAS_LR_FACTOR: 1.0
  CHECKPOINT_PERIOD: 1
  DAMPENING: 0.0
  EPOCH: 10
  EPS: 1.0e-08
  EVAL_PERIOD: 1
  GRAD_CLIP: 0.1
  GRAD_CLIP_TYPE: value
  MOMENTUM: 0.0
  NAME: Adam
  NESTEROV: 0.0
  NORM_TYPE: 2.0
  WEIGHT_DECAY: 0.0
  WEIGHT_DECAY_BIAS: 0.0
  WEIGHT_DECAY_NORM: 0.0
VERSION: 1
